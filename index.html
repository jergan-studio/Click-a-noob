<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Click-a-Noob â€” Final</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#0f1113;--panel:#121417;--accent:#ffd24a;--muted:#9aa3b2;--card:#17191b;
    }
    html,body{height:100%;margin:0;background:var(--bg);color:#eef;font-family:Inter,Arial,Helvetica,sans-serif}
    .wrap{max-width:1100px;margin:18px auto;padding:16px}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between}
    h1{margin:0;font-size:22px}
    .status{display:flex;gap:12px;align-items:center}
    #scoreBox{background:var(--panel);padding:10px 14px;border-radius:10px;font-weight:700}
    .controls button{margin-left:8px;padding:8px 10px;border-radius:8px;border:none;background:#222;color:#fff;cursor:pointer}
    .main{display:grid;grid-template-columns:360px 1fr;gap:16px;margin-top:14px}
    .card{background:var(--panel);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    #noob{width:240px;cursor:pointer;display:block;margin:18px auto;animation:wiggle 1.1s infinite ease-in-out}
    @keyframes wiggle{0%{transform:rotate(0) scale(1)}25%{transform:rotate(2deg) scale(1.03)}50%{transform:rotate(0) scale(1)}75%{transform:rotate(-2deg) scale(1.03)}100%{transform:rotate(0) scale(1)}}
    .meta{display:flex;gap:10px;justify-content:center;margin-top:8px;color:var(--muted);font-size:14px}
    .shop-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:10px}
    .shop-item{background:var(--card);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform .12s,box-shadow .12s;position:relative}
    .shop-item:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(0,0,0,0.5)}
    .shop-item h3{margin:0 0 6px 0;font-size:16px}
    .shop-item small{color:var(--muted)}
    .shop-cost{position:absolute;right:10px;top:12px;background:rgba(0,0,0,0.25);padding:6px 8px;border-radius:8px;font-weight:600}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    #achievementsList{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .ach{background:#111;padding:8px 10px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);font-size:13px}
    .muted{opacity:.6}
    .small{font-size:13px;color:var(--muted)}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    .badge{display:inline-block;padding:4px 6px;background:#163f2b;color:#baf7cf;border-radius:6px;font-weight:700;margin-left:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Click-a-Noob</h1>
      <div class="status">
        <div id="scoreBox">Score: <span id="score">0</span></div>
        <div class="small">Clicks/power: <strong id="clickPowerDisplay">1</strong></div>
        <div class="small">Rebirth x: <strong id="rebirthMulDisplay">1</strong></div>
        <div class="controls">
          <button id="muteBtn" title="Toggle sound">ðŸ”Š</button>
          <button id="resetBtn" title="Reset save">Reset</button>
        </div>
      </div>
    </header>

    <div class="main">
      <!-- LEFT: Avatar / Achievements -->
      <div>
        <div class="card">
          <!-- Use GitHub-hosted noob.png so it shows on GitHub Pages -->
          <img id="noob" src="https://raw.githubusercontent.com/jergan-studio/Click-a-noob/main/noob.png" alt="noob">
          <div class="meta">
            <div>Auto: <span id="autoCount">0</span></div>
            <div>SuperAuto: <span id="superCount">0</span></div>
            <div class="muted">Clicks total: <span id="totalClicks">0</span></div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>Achievements</h3>
          <div id="achievementsList" class="small"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>Rebirth</h3>
          <div class="small">Rebirth resets progress but grants a permanent multiplier to clicks and autos.</div>
          <div style="margin-top:10px" class="row">
            <div>Rebirth Cost: <strong id="rebirthCostDisplay">100000</strong></div>
            <button onclick="attemptRebirth()">Rebirth</button>
            <div class="small muted">Owned: <span id="rebirthCount">0</span></div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Shop & Upgrades -->
      <div>
        <div class="card">
          <h3>Shop</h3>
          <div class="small muted">Click an item to buy. Hover to hear select sound.</div>
          <div class="shop-grid" id="shopGrid"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>Progress & Controls</h3>
          <div class="row" style="margin-top:8px">
            <button onclick="addClicks(100)">Get +100 (debug)</button>
            <button onclick="exportSave()">Export Save</button>
            <button onclick="importSavePrompt()">Import Save</button>
          </div>
          <div class="small muted" style="margin-top:8px">Tip: upload sounds to your repo at <code>sounds/</code> (oof.wav, ding.wav, select.wav, music.mp3). The game will fallback to Roblox audio if not found. Music will start after your first click.</div>
        </div>
      </div>
    </div>

    <footer>Made for Jergan Studio â€” ask if you want more skins / achievements / leaderboards.</footer>
  </div>

  <!-- Audio elements (we will set sources in JS; music uses your uploaded file path) -->
  <audio id="clickSfx"></audio>
  <audio id="buySfx"></audio>
  <audio id="selectSfx"></audio>
  <audio id="music" loop></audio>

<script>
/* =========================
   STATE & CONFIG
   ========================= */
const STATE_KEY = "click_noob_v3";
let state = {
  score:0, totalClicks:0, clickPower:1,
  autoCount:0, superAuto:0,
  rebirths:0, rebirthMul:1,
  upgradesOwned:{}, achievements:{}
};

const shopItems = [
  { id:'upgrade_plus1', title:'+1 per click', desc:'Adds +1 to click power', baseCost:20, onbuy:()=>{ state.clickPower += 1 } },
  { id:'auto', title:'Auto Clicker', desc:'Each gives +1/sec', baseCost:100, onbuy:()=>{ state.autoCount += 1 } },
  { id:'x2', title:'x2 Clicks', desc:'Multiply click power by 2', baseCost:500, onbuy:()=>{ state.clickPower *= 2 } },
  { id:'gold', title:'Golden Noob', desc:'Multiply click power by 10 and changes skin', baseCost:2500, onbuy:()=>{ state.clickPower *= 10; setNoobSkin('gold') } },
  { id:'super', title:'Super Auto', desc:'Each gives +5/sec', baseCost:5000, onbuy:()=>{ state.superAuto += 1 } },
  { id:'clickpack', title:'Click Pack (+50)', desc:'Instant +50 score', baseCost:1200, onbuy:()=>{ state.score += 50 } },
  { id:'mult10', title:'+10 Multiplier', desc:'Permanent +10x to click power', baseCost:20000, onbuy:()=>{ state.clickPower *= 10 } },
];

const rebirthBaseCost = 100000;
const repoRaw = "https://raw.githubusercontent.com/jergan-studio/Click-a-noob/main/";
const musicLocalPath = "/mnt/data/background-music-438663.mp3"; // << your uploaded music file path (will be converted)
let musicStarted = false;
let isMuted = false;

/* =========================
   AUDIO SETUP (try repo sounds, fallback to Roblox)
   ========================= */
const audioElems = {
  click: document.getElementById("clickSfx"),
  buy:   document.getElementById("buySfx"),
  select:document.getElementById("selectSfx"),
  music: document.getElementById("music")
};

const fallback = {
  click: "https://assetdelivery.roblox.com/v1/asset/?id=138083894",
  buy:   "https://assetdelivery.roblox.com/v1/asset/?id=911882310",
  select:"https://assetdelivery.roblox.com/v1/asset/?id=138097048",
  music: "https://assetdelivery.roblox.com/v1/asset/?id=1836788367"
};

function setupAudioSources(){
  const repoSources = {
    click: repoRaw + "sounds/oof.wav",
    buy:   repoRaw + "sounds/ding.wav",
    select:repoRaw + "sounds/select.wav",
    music: musicLocalPath // use uploaded file path (system will transform this)
  };
  audioElems.click.src = repoSources.click;
  audioElems.buy.src = repoSources.buy;
  audioElems.select.src = repoSources.select;
  audioElems.music.src = repoSources.music;

  // on error, switch to fallback
  Object.keys(audioElems).forEach(key=>{
    audioElems[key].addEventListener('error', ()=>{ audioElems[key].src = fallback[key]; }, {once:true});
  });

  audioElems.click.volume = 0.45;
  audioElems.buy.volume = 0.45;
  audioElems.select.volume = 0.35;
  audioElems.music.volume = 0.30;
}
setupAudioSources();

/* =========================
   UI HELPERS
   ========================= */
const el = id => document.getElementById(id);
function formatNum(n){ return Math.floor(n).toLocaleString(); }
function updateUI(){
  el("score").innerText = formatNum(state.score);
  el("clickPowerDisplay").innerText = formatNum(state.clickPower);
  el("autoCount").innerText = formatNum(state.autoCount);
  el("superCount").innerText = formatNum(state.superAuto);
  el("totalClicks").innerText = formatNum(state.totalClicks);
  el("rebirthMulDisplay").innerText = formatNum(state.rebirthMul);
  el("rebirthCostDisplay").innerText = formatNum(getRebirthCost());
  el("rebirthCount").innerText = state.rebirths;
  renderShop();
  renderAchievements();
}

/* =========================
   SHOP LOGIC
   ========================= */
const shopGrid = document.getElementById("shopGrid");
function renderShop(){
  shopGrid.innerHTML = "";
  shopItems.forEach(item=>{
    const owned = state.upgradesOwned[item.id] || 0;
    const cost = getScaledCost(item.baseCost, owned);
    const div = document.createElement("div");
    div.className = "shop-item";
    div.innerHTML = `<div class="shop-cost">${formatNum(cost)}</div>
                     <h3>${item.title}${owned? `<span class="badge">${owned}x</span>`:''}</h3>
                     <small>${item.desc}</small>`;
    div.addEventListener("mouseenter", ()=>{ playSelect(); });
    div.addEventListener("click", ()=>{
      if(attemptBuy(cost)){
        item.onbuy();
        state.upgradesOwned[item.id] = (state.upgradesOwned[item.id]||0) + 1;
        saveState(); updateUI(); playBuy();
        checkAchievementOnBuy(item.id);
      }
    });
    shopGrid.appendChild(div);
  });
}
function getScaledCost(base, owned){
  return Math.floor(base * Math.pow(1.55, owned));
}
function attemptBuy(cost){ if(state.score >= cost){ state.score -= cost; return true; } playSelect(); return false; }

/* =========================
   REBIRTH
   ========================= */
function getRebirthCost(){ return Math.floor(rebirthBaseCost * Math.pow(2, state.rebirths)); }
function attemptRebirth(){
  const cost = getRebirthCost();
  if(state.score >= cost){
    state.score = 0; state.clickPower = 1; state.autoCount = 0; state.superAuto = 0; state.upgradesOwned = {};
    state.rebirths += 1; state.rebirthMul *= 2;
    setNoobSkin('base'); saveState(); updateUI(); playBuy(); unlockAchievement('rebirth_first');
  } else playSelect();
}

/* =========================
   CLICKS & AUTOS
   ========================= */
function addClicks(n){ state.score += n; saveState(); updateUI(); }
function clickNoob(){
  const gain = state.clickPower * state.rebirthMul;
  state.score += gain; state.totalClicks += 1;
  playClick(); saveState(); updateUI(); checkClickAchievements();
}
setInterval(()=>{ state.score += (state.autoCount * state.rebirthMul) + (state.superAuto * 5 * state.rebirthMul); saveState(); updateUI(); }, 1000);

/* =========================
   ACHIEVEMENTS
   ========================= */
const achievements = [
  { id:'click10', title:'Click Novice', desc:'Click 10 times', check:()=> state.totalClicks>=10 },
  { id:'click100', title:'Click Expert', desc:'Click 100 times', check:()=> state.totalClicks>=100 },
  { id:'buyFirst', title:'Shopper', desc:'Buy your first item', check:()=> Object.values(state.upgradesOwned).some(c=>c>0) },
  { id:'rebirth_first', title:'Rebirther', desc:'Perform your first rebirth', check:()=> state.rebirths>=1 },
  { id:'reach1000', title:'Collector', desc:'Reach 1,000 score', check:()=> state.score>=1000 }
];
function renderAchievements(){
  const elA = document.getElementById("achievementsList"); elA.innerHTML = "";
  achievements.forEach(a=>{
    const unlocked = !!state.achievements[a.id];
    const div = document.createElement("div"); div.className = "ach"; div.textContent = `${a.title} â€” ${a.desc}`;
    div.style.opacity = unlocked ? "1" : "0.45"; elA.appendChild(div);
  });
}
function checkAchievements(){ achievements.forEach(a=>{ if(a.check() && !state.achievements[a.id]){ state.achievements[a.id]=true; state.score += 25; playBuy(); saveState(); updateUI(); } }); }
function checkClickAchievements(){ checkAchievements(); }
function checkAchievementOnBuy(id){ checkAchievements(); }

/* =========================
   SOUND PLAY HELPERS
   ========================= */
function playClick(){ if(isMuted) return; try{ audioElems.click.currentTime = 0; audioElems.click.play(); }catch(e){} }
function playBuy(){ if(isMuted) return; try{ audioElems.buy.currentTime = 0; audioElems.buy.play(); }catch(e){} }
function playSelect(){ if(isMuted) return; try{ audioElems.select.currentTime = 0; audioElems.select.play(); }catch(e){} }
function toggleMute(){ isMuted = !isMuted; document.getElementById("muteBtn").innerText = isMuted ? "ðŸ”ˆ" : "ðŸ”Š"; audioElems.music.muted = isMuted; }

/* =========================
   SKINS
   ========================= */
function setNoobSkin(skin){
  const img = document.getElementById("noob");
  if(skin === 'gold') img.src = "https://i.imgur.com/AQqWf7v.png";
  else img.src = repoRaw + "noob.png"; // use GitHub raw noob.png
}

/* =========================
   SAVE / LOAD / EXPORT
   ========================= */
function saveState(){ localStorage.setItem(STATE_KEY, JSON.stringify(state)); }
function loadState(){ const s = localStorage.getItem(STATE_KEY); if(s){ try{ state = JSON.parse(s); }catch(e){ console.error("corrupt save"); }}}
function exportSave(){ const data = JSON.stringify(state); const blob = new Blob([data], {type:"application/json"}); const url = URL.createObjectURL(blob); const a = document.createElement("a"); a.href = url; a.download = "click_a_noob_save.json"; a.click(); URL.revokeObjectURL(url); }
function importSavePrompt(){ const json = prompt("Paste save JSON here (or cancel):"); if(!json) return; try{ const imported = JSON.parse(json); state = imported; saveState(); updateUI(); alert("Save imported."); } catch(e){ alert("Invalid JSON."); }}

/* =========================
   BOOTSTRAP
   ========================= */
function init(){
  loadState();
  state.upgradesOwned = state.upgradesOwned || {}; state.achievements = state.achievements || {};
  renderShop(); updateUI();
  setNoobSkin('base');

  // start music only after first user click (autoplay policy)
  document.getElementById("noob").addEventListener("click", ()=>{
    if(!musicStarted){
      audioElems.music.play().catch(()=>{});
      musicStarted = true;
    }
    clickNoob();
  });

  document.getElementById("resetBtn").addEventListener("click", ()=>{ if(confirm("Reset all progress?")){ localStorage.removeItem(STATE_KEY); location.reload(); }});
  document.getElementById("muteBtn").addEventListener("click", ()=>{ toggleMute(); });

  // play select sound on hover for buttons
  document.querySelectorAll("button").forEach(btn=>{ btn.addEventListener("mouseenter", ()=>{ playSelect(); }) });

  setInterval(()=>{ checkAchievements(); }, 2000);
  setInterval(()=>{ saveState(); }, 3000);
}
init();
</script>
</body>
</html>
